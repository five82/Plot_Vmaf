Metadata-Version: 2.1
Name: vmaf-tools
Version: 0.1.0
Summary: Tools for VMAF video quality analysis
Author-email: Your Name <your.email@example.com>
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Description-Content-Type: text/markdown
Requires-Dist: numpy
Requires-Dist: matplotlib

# Plot_Vmaf

Simple script for vmaf plotting and analysis. Provides tools for generating VMAF scores and creating visualizations of video quality metrics.

![Example VMAF Plot](plot.png)

## Requirements

### System Dependencies
- FFmpeg with libvmaf support (for VMAF analysis)
- bc (for calculations in generate-vmaf)
- jq (for JSON processing)

On macOS, install dependencies with:
```bash
brew install ffmpeg libvmaf jq
```

### Python Dependencies
- Python 3.7+
- pipx
- numpy
- matplotlib

## Installation

```bash
git clone https://github.com/five82/Plot_Vmaf.git
cd Plot_Vmaf
pipx install -e .
```

## Uninstall

```bash
# If installed with -e flag
pipx uninstall vmaf-tools

# Remove cloned directory
cd ..
rm -rf Plot_Vmaf
```

## Usage

### Generate VMAF Scores
The `generate-vmaf` command analyzes video quality by:
- Comparing a reference video with a processed/compressed version
- Handling resolution differences automatically
- Converting HDR to SDR if needed
- Using FFmpeg's libvmaf to calculate quality metrics
- Outputting detailed JSON data and visualization plots

```bash
# Basic usage
generate-vmaf reference.mp4 distorted.mp4

# With options
generate-vmaf --no_denoise --output-dir ~/results reference.mp4 distorted.mp4 my_analysis

# Just specify output prefix
generate-vmaf reference.mp4 distorted.mp4 comparison
```

### Plot VMAF Data
Visualize VMAF analysis results from JSON files:
```bash
# Basic usage
vmaf-plot my_analysis.json

# Specify output format
vmaf-plot my_analysis.json -o analysis.svg

# Compare multiple files
vmaf-plot analysis1.json analysis2.json -o comparison.png

# Plot specific metrics
vmaf-plot -m VMAF PSNR my_analysis.json
```

### Options

#### generate-vmaf
```
--no_denoise        Disable denoising of reference video (useful for pristine sources)
--output-dir DIR    Specify output directory (default: current directory)
[output_prefix]     Optional prefix for output files (default: vmaf_analysis)
```

#### vmaf-plot
```
-o, --output FILE   Graph output file (default: plot.png)
-m, --metrics       Metrics to plot (VMAF, PSNR, SSIM)
```

## Output Files
For each analysis, generate-vmaf produces:
- JSON file containing frame-by-frame quality metrics
- PNG plot visualizing the VMAF scores over time
- Support for multiple plot formats (png, svg, pdf)

## Acknowledgments

Based on Netflix's VMAF metric and FFmpeg's libvmaf implementation.
